<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="referrer" content="no-referrer">

    <meta name="author" content="Cynyard Qiu">





<title>区块链简介 | Cynyard&#39;s Blog</title>



    <link rel="icon" href="/moon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.3.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Cynyard&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Cynyard&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">区块链简介</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Cynyard Qiu</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">February 27, 2022&nbsp;&nbsp;20:00:00</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Blockchain/">Blockchain</a>
                            
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.daimajiaoliu.com/daima/486f0e16c100402">https://www.daimajiaoliu.com/daima/486f0e16c100402</a></p>
</blockquote>
<p>Stuart Haber &amp; W. S. Stornetta : How to time-stamp a digital document<br>既然我们始终要去信任某个人或者机构来确保数字文档的准确性，那就去信任每一个人，也就是说，让世界上的每一个人都是数字文档记录的见证者。能够让所有的数字记录在被创造的时候就传输到每一个用户那里，这样就没有人可以篡改这个记录。</p>
<p>Satoshi Nakamoto: Bitcoin: A Peer-to-Peer Electronic Cash System<br>正式提出区块链的概念</p>
<h1 id="技术定义"><a href="#技术定义" class="headerlink" title="技术定义"></a>技术定义</h1><p>简单来说，区块链是一个提供了拜占庭容错、并保证了最终一致性的分布式数据库；<br>从数据结构上看，它是基于时间序列的链式数据块结构；<br>从节点拓扑上看，它所有的节点互为冗余备份；从操作上看，它提供了基于密码学的公私钥管理体系来管理账户。</p>
<h2 id="七个特征"><a href="#七个特征" class="headerlink" title="七个特征"></a>七个特征</h2><ol>
<li>区块链的存储基于分布式数据库</li>
<li>数据库是区块链的数据载体，区块链是交易的业务逻辑载体</li>
<li>区块链按照时间序列化区块数据，整个网络有一个最终确定状态</li>
<li>区块链只对添加有效，对其他操作无效</li>
<li>交易基于非对称加密的公私钥加密验证</li>
<li>区块链网络要求拜占庭将军容错</li>
<li>共识算法能够解决双花问题，double spent<h1 id="技术组成"><a href="#技术组成" class="headerlink" title="技术组成"></a>技术组成</h1></li>
</ol>
<p><strong>P2P</strong><br>P2P 网络协议是所有区块链的最底层模块，负责交易数据的网络传输和广播、节点发现和维护。</p>
<p>初次连接到其他节点会被要求按照握手协议来确认状态，在握手之后开始请求 Peer 节点的地址数据以及区块数据。</p>
<p>分布式存储区块链，每个节点加入后，都会获得当前区块链的完全拷贝<br>新加入的区块会广播到所有节点，新加入的区块数据量很少<br>所有人都能判断这个区块有没有被篡改，最终达成共识（投票权），最后才会被加入到区块链当中，所以需要获得50%以上的投票权才能篡改</p>
<p>所以想要篡改，成本高于收益，所以不如挖矿</p>
<p><strong>分布式一致性算法</strong><br>一致性是指在某个分布式系统中，任意节点的提案能够在约定的协议下被其他所有节点所认可，也就是所有节点对外呈现的信息一致，而不是对信息的内容认可</p>
<p><strong>加密签名算法</strong></p>
<p>挖矿算法，生成地址算法，公私钥密码算法</p>
<p>从技术上看，我们先从生成私钥开始，其次从私钥生成公钥，最后从公钥生成地址，以上每一步都是不可逆过程，也就是说无法从地址推导出公钥，从公钥推导到私钥。</p>
<p><strong>账户与加密模型</strong></p>
<p>作为底层的存储设施，多以轻量级嵌入式数据库为主，由于并不涉及区块链的账本特性，这些存储技术与其他场合下的使用并没有什么不同</p>
<p>区块链的账本特性，通常分为 UTXO 结构以及基于 Account-Balance 结构的账本结构，我们也称为账本模型。UTXO 是“unspent transaction input/output”的缩写，翻译过来就是指“未花费的交易输入输出”。</p>
<h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><p>最简单的block存什么：</p>
<ul>
<li>数据：一系列交易，第一笔交易一般是挖矿奖励</li>
<li>前一个区块的哈希值（第一个区块叫做祖先Genesis区块，这个字段为空）</li>
<li>哈希值（由存储的数据以及前一个区块的哈希值进行计算）作为一个区块的指纹，校验数据会不会被更改</li>
</ul>
<p><strong>区块链</strong><br>区块链接起来后，就组成了区块链（区块构成的有序链表），如果篡改了任何一个区块的数据，那么这个区块的哈希值就不正确了，这样下一个区块和当前区块的链接关系就被破坏掉了</p>
<p>也就是说<br>如果需要篡改一个区块的数据，就需要篡改一个区块以及他之后的所有区块的哈希值，这个其实也不难</p>
<p><strong>如果只修改最后一个区块呢？？</strong><br>  分布式的节点也不会接受</p>
<p><strong>区块链怎样防止数据被篡改？</strong><br>工作量证明机制Proof of work<br>工作量=经验<br>证明工作量=升级</p>
<p>激励促使大家诚信来获得收益而不是作弊来获得收益，因为诚实获得的激励的概率更大，成本更小</p>
<p><strong>Merkel Hash是什么</strong><br>保证了本区块的所有交易，把一系列数据的哈希根据一个简单算法变成一个汇总的哈希<br><img src="https://cdn.nlark.com/yuque/0/2022/png/1096029/1645266791225-e3d74a08-57b7-4c79-ad6d-22787ccadb89.png" alt="image.png" style="zoom:50%; " /><br>如果不好直接合并，那就复制同层次的一份<br><img src="https://cdn.nlark.com/yuque/0/2022/png/1096029/1645266842386-1090dd46-ab60-4f3e-83ee-1f805f6190e1.png" alt="image.png" style="zoom:50%; " /><br>修改任意一个交易哪怕一个字节，或者交换两个交易的顺序，都会导致Merkle Hash验证失败，也就会导致这个区块本身是无效的，所以，Merkle Hash记录在区块头部，它的作用就是保证交易记录永远无法修改。</p>
<p>Merkle树也就是哈希树，叶子结点为数据记录，非叶子结点就是对影子节点串联字符串的哈希值，对于交易记录的任何一点改变都能够体现在树根的值上</p>
<p><strong>Block Hash</strong><br>通过计算区块头部hash得到的，没有记录到区块头部</p>
<p>如果一个恶意的攻击者修改了一个区块中的某个交易，那么Merkle Hash验证就不会通过。所以，他只能重新计算Merkle Hash，然后把区块头的Merkle Hash也修改了。这时，我们就会发现，这个区块本身的Block Hash就变了，所以，下一个区块指向它的链接就断掉了。</p>
<p>由于比特币区块的哈希必须满足一个难度值，因此，攻击者必须先重新计算这个区块的Block Hash，然后，再把后续所有区块全部重新计算并且伪造出来，才能够修改整个区块链。</p>
<p>在后面的挖矿中，我们会看到，修改一个区块的成本就已经非常非常高了，要修改后续所有区块，这个攻击者必须掌握全网51%以上的算力才行，所以，修改区块链的难度是非常非常大的，并且，由于正常的区块链在不断增长，同样一个区块，修改它的难度会随着时间的推移而不断增加。</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Cynyard Qiu</span>
                    </p>
                
                
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/distributed/"># distributed</a>
                    
                        <a href="/tags/blockchain/"># blockchain</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2022/04/01/proof-of-work-overview/">挖矿-Proof of Work工作量证明</a>
            
            
            <a class="next" rel="next" href="/2021/12/02/common-java-collections/">Java常用数据集合</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Cynyard Qiu | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a> 
        
        </span>
    </div>
</footer>

    </div>
</body>
</html>
